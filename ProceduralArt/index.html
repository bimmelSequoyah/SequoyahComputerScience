<!DOCTYPE html>
<html>
<head>
    <title>Procedural Art</title>
    <link rel="stylesheet" href="../style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Procedural Art â€“ Spring 2025</h1>
    <br><br><br>

    <a href="../index.html">
        <img src="../home-icon.png" alt="Home" class="home-icon">
    </a>

    <div class="gallery">
        <div class="artpiece gif">
            <img src="LissajousMalickDeighton.gif" 
                alt="I wanted to get a large overview of what the figures could look like, so we get a psudo-randomization of the figures" 
                class="artImage">
            <div class="name">Malick Deighton</div>
            <span class="title">Randomization</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="LissajousHenryHolcomb.gif" 
                alt="I have created my artwork to fold in on itself and then scatter into a jumbled mess of white noise in a way." 
                class="artImage">
            <div class="name">Henry Holcomb</div>
            <span class="title">Swirly</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="LissajousYoshiPeretti.gif" 
                alt="A web of blue lines that is not rotating, just losing points/becoming more jagged. I added trails because they make it harder to try and use your eyes to track what is happening." 
                class="artImage">
            <div class="name">Yoshi Peretti</div>
            <span class="title">whirlWeb</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="LissajousOwenHawxhurst.gif" 
                alt="Uses square roots mixed with sine waves." 
                class="artImage">
            <div class="name">Owen Hawxhurst</div>
            <span class="title">Non Repeating pattern</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="LissajousJackTibbitt.gif" 
                alt="This artwork is a bunch of lines that warp and sometimes they change into a shape that looks like the number 8." 
                class="artImage">
            <div class="name">Jack Tibbitt</div>
            <span class="title">8</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="LissajousJacksonHuggins.gif" 
                alt="I wanted to make a spinning object that has an optical illusion to it." 
                class="artImage">
            <div class="name">Jackson Huggins</div>
            <span class="title">Jackson's Art</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="LissajousKieranFennellMolinaro.gif" 
                alt="The artwork I made was inspired by polygons and I made it because I was in geometry." 
                class="artImage">
            <div class="name">Kieran Fennell-Molinaro</div>
            <span class="title">The Star</span>
            <span class="language">JavaScript</span>
        </div>

        <div class="artpiece gif">
            <img src="./LissajousEllisKopcho.gif" 
                alt="I was playing around with the equations, and realized I could try using functions besides sine and cosine." 
                class="artImage">
            <div class="name">Ellis Kopcho</div>
            <span class="title">vertical asymptote</span>
            <span class="language">JavaScript</span>
        </div>

        <div id="tooltip" class="tooltip"></div>


        <script>
            async function extractFirstFrame(gifSrc) {
                return new Promise((resolve) => {
                    const canvas = document.createElement("canvas");
                    const ctx = canvas.getContext("2d");
                    const tempImg = new Image();
                    tempImg.crossOrigin = "anonymous"; // Prevents CORS issues when hosted on a server
        
                    tempImg.onload = () => {
                        canvas.width = tempImg.width;
                        canvas.height = tempImg.height;
                        ctx.drawImage(tempImg, 0, 0);
                        resolve(canvas.toDataURL("image/png")); // Convert first frame to PNG
                    };
        
                    tempImg.src = gifSrc;
                });
            }
        
            async function setupGifs() {
                const gifArtpieces = document.querySelectorAll(".artpiece.gif"); // Select only GIF-containing divs
                const tooltip = document.getElementById("tooltip");
        
                for (const artpiece of gifArtpieces) {
                    const img = artpiece.querySelector("img"); // Get the image inside the artpiece div
                    if (!img) continue; // Skip if no image found
        
                    const animatedSrc = img.src;
                    img.style.visibility = "hidden"; // Hide it while processing
        
                    // Extract first frame dynamically
                    const staticSrc = await extractFirstFrame(animatedSrc);
                    img.src = staticSrc; // Set the first frame as default image
                    img.style.visibility = "visible"; // Show after processing
        
                    // Hover effects
                    artpiece.addEventListener("mouseover", () => {
                        tooltip.textContent = img.alt;
                        tooltip.style.display = "block";
                        img.src = animatedSrc + "?t=" + new Date().getTime(); // Force reload GIF to restart
                    });
        
                    artpiece.addEventListener("mouseout", () => {
                        tooltip.style.display = "none";
                        img.src = staticSrc; // Revert to first frame
                    });
        
                    artpiece.addEventListener("mousemove", (event) => {
                        tooltip.style.left = event.pageX + 10 + "px";
                        tooltip.style.top = event.pageY + 10 + "px";
                    });
                }
            }
        
            document.addEventListener("DOMContentLoaded", setupGifs);
        </script>
        
        


        

    </div>
</body>
</html>
